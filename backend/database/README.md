

# database
`import "github.com/drewsonne/terraform-server/backend/database"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [type BufferedDriver](#BufferedDriver)
  * [func NewMemoryDBDriverWithCollection(collection map[string]string) (BufferedDriver, error)](#NewMemoryDBDriverWithCollection)
* [type Database](#Database)
  * [func NewDatabaseWithDriver(driver Driver) Database](#NewDatabaseWithDriver)
* [type Driver](#Driver)
  * [func NewJSONDBDriver(dbFile fileClient) (Driver, error)](#NewJSONDBDriver)
  * [func NewMemoryDBDriver() (Driver, error)](#NewMemoryDBDriver)
  * [func NewRedisDBDriver(namespace, address, password string, database int, driver RedisClient) (r Driver, err error)](#NewRedisDBDriver)
* [type Record](#Record)
  * [func (r Record) Key() string](#Record.Key)
  * [func (r Record) Type() string](#Record.Type)
* [type RedisClient](#RedisClient)


#### <a name="pkg-files">Package files</a>
[database.go](/src/github.com/drewsonne/terraform-server/backend/database/database.go) [dynamodb.go](/src/github.com/drewsonne/terraform-server/backend/database/dynamodb.go) [json.go](/src/github.com/drewsonne/terraform-server/backend/database/json.go) [memory.go](/src/github.com/drewsonne/terraform-server/backend/database/memory.go) [redis.go](/src/github.com/drewsonne/terraform-server/backend/database/redis.go) 






## <a name="BufferedDriver">type</a> [BufferedDriver](/src/target/database.go?s=801:867#L31)
``` go
type BufferedDriver interface {
    Driver
    Bytes() ([]byte, error)
}
```
BufferedDriver represents a low level storage which exposes a Bytes method to allow
serialization to disk







### <a name="NewMemoryDBDriverWithCollection">func</a> [NewMemoryDBDriverWithCollection](/src/target/memory.go?s=634:724#L24)
``` go
func NewMemoryDBDriverWithCollection(collection map[string]string) (BufferedDriver, error)
```
NewMemoryDBDriverWithCollection seeds the memory database with some initialisaiton data





## <a name="Database">type</a> [Database](/src/target/database.go?s=914:953#L37)
``` go
type Database struct {
    // contains filtered or unexported fields
}
```
Database stores data for terraform server







### <a name="NewDatabaseWithDriver">func</a> [NewDatabaseWithDriver](/src/target/database.go?s=1015:1065#L42)
``` go
func NewDatabaseWithDriver(driver Driver) Database
```
NewDatabaseWithDriver creates a new Database struct with





## <a name="Driver">type</a> [Driver](/src/target/database.go?s=433:687#L19)
``` go
type Driver interface {
    Create(recordType, key string, doc interface{}) error
    Read(recordType, key string, i interface{}) error
    Update(recordType, key string, doc interface{}) error
    Delete(recordType, key string) error

    Ping() error
    Close() error
}
```
Driver represents a low level storage serialiser/ deserialiser
This is wrapped in the Database







### <a name="NewJSONDBDriver">func</a> [NewJSONDBDriver](/src/target/json.go?s=546:601#L31)
``` go
func NewJSONDBDriver(dbFile fileClient) (Driver, error)
```
NewJSONDBDriver returns a json database object


### <a name="NewMemoryDBDriver">func</a> [NewMemoryDBDriver](/src/target/memory.go?s=425:465#L17)
``` go
func NewMemoryDBDriver() (Driver, error)
```
NewMemoryDBDriver returns a memory database object


### <a name="NewRedisDBDriver">func</a> [NewRedisDBDriver](/src/target/redis.go?s=667:781#L34)
``` go
func NewRedisDBDriver(namespace, address, password string, database int, driver RedisClient) (r Driver, err error)
```
NewRedisDBDriver returns a redis database object





## <a name="Record">type</a> [Record](/src/target/database.go?s=112:146#L5)
``` go
type Record map[string]interface{}
```
Record is an untyped, schemaless record type which all
record types embed and implement










### <a name="Record.Key">func</a> (Record) [Key](/src/target/database.go?s=178:206#L8)
``` go
func (r Record) Key() string
```
Key returns a record's Key




### <a name="Record.Type">func</a> (Record) [Type](/src/target/database.go?s=270:299#L13)
``` go
func (r Record) Type() string
```
Type returns a record's type




## <a name="RedisClient">type</a> [RedisClient](/src/target/redis.go?s=389:613#L24)
``` go
type RedisClient interface {
    Close() error
    Del(...string) *redis.IntCmd
    Keys(string) *redis.StringSliceCmd
    Get(string) *redis.StringCmd
    Ping() *redis.StatusCmd
    Set(string, interface{}, time.Duration) *redis.StatusCmd
}
```
RedisClient interface to allow custom redis clients to be used














- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
